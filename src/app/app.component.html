<div class="row result">
  <div class="col-sm-7">

    <div class="main_form">
      <p class="select-title">Raça:</p>
      <select id='races' name='races'  class="select-basics" [(ngModel)]="race">
        <option *ngFor="let item of races" [value]="item.nome">
          {{item.nome}}
        </option>    
      </select>
      
      <p class="select-title">Classe: </p>
      <select id='classes' name='classes' class="select-basics" [(ngModel)]="class">
        <option *ngFor="let item of classes" [value]="item.nome">
          {{item.nome}}
        </option>    
      </select>
      
      <p class="select-title">Origem: </p>
      <select id='origins' name='origins' class="select-basics" [(ngModel)]="origin">
        <option *ngFor="let item of origins" [value]="item.nome">
          {{item.nome}}
        </option>    
      </select>

      <p class="select-title">Deus: </p>
      <select id='gods' name='gods' class="select-basics" [(ngModel)]="god">
        <option *ngFor="let item of gods" [value]="item.nome">
          {{item.nome}}
        </option>    
      </select>
      
      <p class="select-title">Nível: </p>
      <select id='levels' name='levels' class="select-basics" [(ngModel)]="level" (change)="updateHalfLevel()">
        <option *ngFor="let item of levels" [value]="item">
          {{item}}
        </option>    
      </select>
    </div>

    <div id="download">
      <button class="btn" (click)="download_sheet()">Download</button>
    </div>
    
    <basic-stats
      [level]="level"
      [class]="class"
      [origin]="origin"
      [god]="god"
      [race]="race"
      [life_points]="life_points"
      [mana_points]="mana_points">
    </basic-stats>

    <weapon-selection
      [proeficiencies]="proeficiencies"
      (chosen_weapons_output)="onChosenWeapons($event)">
    </weapon-selection>

    <armor-selection
      [proeficiencies]="proeficiencies"
      (chosen_armor_output)="onChosenArmor($event)">
    </armor-selection>

    <shield-selection
      *ngIf="proeficiencies && proeficiencies.includes('Escudos')"
      (chosen_armor_output)="onChosenShield($event)">
    </shield-selection>

    <base-attributes
      [level]="level"
      [class]="class"
      [origin]="origin"
      [god]="god"
      [race]="race"
      
      (total_expertises_output)="onTotalExpertises($event)"
      (life_points_output)="onLifePoints($event)"
      (mana_points_output)="onManaPoints($event)"
      (attributes_modifiers_output)="onAttributesModifiers($event)"
      (attributes_values_output)="onAttributesValues($event)">
    </base-attributes>

    <default-proficiencies
      [class]="class"
      (proficiencies_output)="onProeficiencies($event)">
    </default-proficiencies>

    <origin-bonus
      [origin]="origin"
      (origin_bonus)="onOriginBonus($event)">
    ></origin-bonus>

    <default-powers
      [level]="level"
      [race]="race"
      [class]="class"
      [origin]="origin"
      [god]="god"
      (default_powers)="onDefaultPowers($event)">
    </default-powers>
  
    <chosen-powers
      [level]="level"chosen_magic_output
      [class]="class"
      [attributes_modifiers]="attributes_values"
      (chosen_powers_output)="onChosenPowers($event)">
    </chosen-powers>

    <chosen-magic
      [level]="level"
      [class]="class"
      (chosen_magic_output)="onChosenMagic($event)">
    </chosen-magic>
 
  </div>

  <div class="col-sm-5 expertises-table">
    <expertise-table
      [level]="level"
      [half_level]="half_level"
      [total_expertises]="total_expertises"
      [class]="class"
      [origin]="origin"
      [modifiers]="attributes_modifiers"
      
      (expertises_table_output)="onExpertisesTable($event)">
    </expertise-table>
  </div>
</div>

<router-outlet></router-outlet>
